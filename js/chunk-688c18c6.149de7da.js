(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-688c18c6"],{"18bc":function(t,a,s){},2006:function(t,a,s){"use strict";s.r(a);var o=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("van-nav-bar",{attrs:{title:t.stock.name,"left-text":t.isShared?"首页":"返回","left-arrow":!t.isShared,fixed:"",placeholder:"","safe-area-inset-top":""},on:{"click-left":t.onClickLeft},scopedSlots:t._u([{key:"right",fn:function(){return[s("van-icon",{attrs:{name:t.isfav?"star":"star-o",size:"18"},on:{click:t.makeFavorite}})]},proxy:!0}])}),s("kline-chart",{attrs:{code:t.code,date:t.date}}),s("van-skeleton",{attrs:{row:10,loading:t.loading}},[s("article",[s("h2",{directives:[{name:"show",rawName:"v-show",value:t.stockStatus.pe,expression:"stockStatus.pe"}]},[t._v("股票态势")]),s("van-row",{directives:[{name:"show",rawName:"v-show",value:t.stockStatus.pe,expression:"stockStatus.pe"}]},[s("van-col",{staticClass:"col-title",attrs:{span:"5"}},[t._v("代码")]),s("van-col",{staticClass:"col-content",attrs:{span:"7"}},[t._v(t._s(t.stock.code))]),s("van-col",{staticClass:"col-title",attrs:{span:"5"}},[t._v("日期")]),s("van-col",{staticClass:"col-content",attrs:{span:"7"}},[t._v(t._s(t.date))]),s("van-col",{staticClass:"col-title",attrs:{span:"5"}},[t._v("开盘")]),s("van-col",{staticClass:"col-content",attrs:{span:"7"}},[t._v(t._s(t.stockStatus.open))]),s("van-col",{staticClass:"col-title",attrs:{span:"5"}},[t._v("收盘")]),s("van-col",{staticClass:"col-content",attrs:{span:"7"}},[t._v(t._s(t.stockStatus.close))]),s("van-col",{staticClass:"col-title",attrs:{span:"5"}},[t._v("最高")]),s("van-col",{staticClass:"col-content",attrs:{span:"7"}},[t._v(t._s(t.stockStatus.high))]),s("van-col",{staticClass:"col-title",attrs:{span:"5"}},[t._v("最低")]),s("van-col",{staticClass:"col-content",attrs:{span:"7"}},[t._v(t._s(t.stockStatus.low))]),s("van-col",{staticClass:"col-title",attrs:{span:"5"}},[t._v("涨跌幅")]),s("van-col",{staticClass:"col-content",attrs:{span:"7"}},[t._v(t._s(t.raise))]),s("van-col",{staticClass:"col-title",attrs:{span:"5"}},[t._v("涨跌比")]),s("van-col",{staticClass:"col-content",attrs:{span:"7"}},[t._v(t._s(t.stockStatus.percent))]),s("van-col",{staticClass:"col-title",attrs:{span:"5"}},[t._v("市盈率")]),s("van-col",{staticClass:"col-content",attrs:{span:"7"}},[t._v(t._s(t.stockStatus.pe))]),s("van-col",{staticClass:"col-title",attrs:{span:"5"}},[t._v("市净率")]),s("van-col",{staticClass:"col-content",attrs:{span:"7"}},[t._v(t._s(t.stockStatus.pb))]),s("van-col",{staticClass:"col-title",attrs:{span:"5"}},[t._v("市值")]),s("van-col",{staticClass:"col-content",attrs:{span:"7"}},[t._v(t._s(t.marketCapital))]),s("van-col",{staticClass:"col-title",attrs:{span:"5"}},[t._v("换手")]),s("van-col",{staticClass:"col-content",attrs:{span:"7"}},[t._v(t._s(t.volume))])],1),s("h2",[t._v("公司简介")]),s("p",[t._v(t._s(t.stock.org_cn_introduction))]),s("van-row",[s("van-col",{staticClass:"col-title",attrs:{span:"5"}},[t._v("公司名称")]),s("van-col",{staticClass:"col-content",attrs:{span:"19"}},[t._v(t._s(t.stock.org_name_cn))])],1),s("van-row",[s("van-col",{staticClass:"col-title",attrs:{span:"5"}},[t._v("董事长")]),s("van-col",{staticClass:"col-content",attrs:{span:"7"}},[t._v(t._s(t.stock.chairman))]),s("van-col",{staticClass:"col-title",attrs:{span:"5"}},[t._v("董秘")]),s("van-col",{staticClass:"col-content",attrs:{span:"7"}},[t._v(t._s(t.stock.secretary))])],1),s("van-row",[s("van-col",{staticClass:"col-title",attrs:{span:"5"}},[t._v("法人代表")]),s("van-col",{staticClass:"col-content",attrs:{span:"7"}},[t._v(t._s(t.stock.legal_representative))]),s("van-col",{staticClass:"col-title",attrs:{span:"5"}},[t._v("总经理")]),s("van-col",{staticClass:"col-content",attrs:{span:"7"}},[t._v(t._s(t.stock.general_manager))])],1),t.recommandationContent?s("van-row",[s("h2",[t._v("推荐理由")]),s("p",[t._v(t._s(t.recommandationContent))])]):t._e(),s("van-row",{staticStyle:{"margin-top":"50px"}},[s("van-button",{attrs:{round:"",block:"",type:"info",size:"small"},on:{click:t.viewStock}},[t._v("到雪球中查看详情")])],1),t.valuable?t._e():s("van-row",{staticStyle:{margin:"20px 0"},attrs:{type:"flex",justify:"space-between"}},[s("van-button",{attrs:{round:"",plain:"",type:"info",icon:"chat-o",size:"small"},on:{click:function(a){return t.$toast("暂不支持")}}},[t._v("分享到微信")]),s("van-button",{attrs:{round:"",plain:"",type:"info",icon:"qr",size:"small"},on:{click:function(a){return t.$toast("暂不支持")}}},[t._v("显示二维码")]),s("van-button",{attrs:{round:"",plain:!t.recommandationFormShow,type:"info",icon:"share-o",size:"small"},on:{click:function(a){t.recommandationFormShow=!t.recommandationFormShow}}},[t._v("推荐给朋友")])],1),t.recommandationFormShow&&!t.valuable?s("van-row",[s("van-form",{on:{submit:t.onRecommandationSubmit}},[s("van-field",{attrs:{name:"title",label:"标题",placeholder:t.recommandationDefaultTitle},model:{value:t.recommandation.title,callback:function(a){t.$set(t.recommandation,"title",a)},expression:"recommandation.title"}}),s("van-field",{attrs:{name:"content",label:"推荐理由",type:"textarea",autosize:"",rows:"2",maxlength:"70","show-word-limit":""},model:{value:t.recommandation.content,callback:function(a){t.$set(t.recommandation,"content",a)},expression:"recommandation.content"}}),s("van-button",{attrs:{size:"small",round:"",block:"",type:"info","native-type":"submit"}},[t._v("提交")])],1)],1):t._e(),s("van-row",{staticStyle:{height:"50px"}})],1)])],1)},e=[],n=s("625b"),c=s("89d9"),i=s("35fe"),l=s("ed08"),r={props:{code:{type:String,required:!0},date:{type:String,required:!0},name:{type:String,default:""},valuable:{type:Boolean,default:!1},recommandationContent:{type:String,default:""}},components:{KlineChart:i["a"]},data(){return{loading:!0,stock:null,stockStatus:{},pageLink:window.location.href,recommandation:{title:"",content:""},recommandationDefaultTitle:"这支股票近期可以跟进了",recommandationFormShow:!1}},computed:{isShared(){return!this.name},favStocks(){return this.$store.getters["fav/list"]},isfav(){return!!this.favStocks.find(t=>t.code===this.code)},marketCapital(){return parseInt(this.stockStatus.market_capital/1e8)+"亿"},volume(){return parseInt(this.stockStatus.volume/100)+"手"},raise(){const t=this.stockStatus.close-this.stockStatus.open;return Number(t).toFixed(2)}},created(){this.stock=new c["a"]({code:this.code})},mounted(){Promise.all([this.getStockInfo(),this.getStockStatus()]).then(()=>{this.loading=!1})},beforeDestroy(){},methods:{async getStockInfo(){await this.stock.getInfo()},async getStockStatus(){const t=this.date,a=await n["a"].fetch(t);if(a&&a.list){const t=a.list;this.stockStatus=t.find(t=>t.code===this.code)}},onClickLeft(){this.isShared?this.$router.replace({name:"Home"}):this.$router.back()},viewStock(){const t=this.stock.code;t?window.location.href="https://xueqiu.com/S/"+t:this.$toast.fail("未获取到股票代码")},onRecommandationSubmit(){let{title:t,content:a}=this.recommandation;a?(t||(t=this.recommandationDefaultTitle),this.$router.replace({name:"recommandDetail",params:{code:btoa(this.code),date:btoa(this.date),name:this.stock.name},query:{title:t,content:a,valuable:"1"}})):this.$toast.fail("内容不能为空")},makeFavorite(){if(Object(l["b"])())this.$router.push({name:"WechatRedirect",replace:!0,query:{redirect:this.$route.fullPath}});else{const t={code:this.stock.code,name:this.stock.name};this.isfav?this.$store.commit("fav/remove",t):this.$store.commit("fav/add",t)}}}},v=r,m=(s("b0f5"),s("2877")),u=Object(m["a"])(v,o,e,!1,null,"ead830f6",null);a["default"]=u.exports},"625b":function(t,a,s){"use strict";var o=s("b775");class e{static async fetch(t){try{const a=await Object(o["a"])(`/filter/bluewhale/${t}.json`);return await a.json()}catch(a){return null}}}a["a"]=e},b0f5:function(t,a,s){"use strict";s("18bc")}}]);